QSP-Game Тесты базы данных

# edb.usercom.test
!@ инициализация базы данных
@edb.init()
!@ новая таблица данных
@edb.new_table('objects', 'Объекты')
!@ добавляем колонки
@edb.dt.new_col('body', 'dict', 'objects')
@edb.dt.new_col('place', 'str', 'objects')
!@ @edb.dt.new_col('include')
@edb.dt.new_col('count', 'num')
!@ создаём строки
local $s = @edb.dt.new_row('objects')
local $r = @edb.dt.new_row('objects')
local $i = @edb.dt.new_row()
local $d = @edb.dt.new_row()
local $n = @edb.dt.new_row()
!@ проверяем созданное
*pl @edb.print()
*pl @edb.dt.print('objects')
!@ заполняем строки
@edb.dt.set_cur('objects')
@edb.row.set_cur($i)
@edb.row.fill(['Старый меч', 'сумка', 1])
@edb.row.set_cur($n)
@edb.row.fill(['Старый шлем', 'сумка', 15])
@edb.row.set_cur($s)
@edb.row.fill(['body', 'Пепел'], ['count', 2])
*pl @edb.dt.print('objects')
!@ @edb.dt.del_col('include', 'objects')
!@ @edb.cell.set_value('Инвентарь', $s, 'place', 'objects')
!@ @edb.dt.print('objects')
!@ @edb.col.print('body', 'objects')
!@ @edb.col.print('count', 'objects', '[range:3-5]')
!@ @edb.row.print($i, 'objects')
!@ @edb.cell.get_value($i, 'place', 'objects')
!@ @edb.cell.get_value($s, 'place')
!@ @edb.cell.get_value($n)
!@ @edb.row.set_cur($r)
!@ @edb.col.set_cur('body')
!@ @edb.row.set_next('Яблоко')
!@ @edb.row.set_next('Инвентарь')
!@ @edb.row.set_next(25)
!@ @edb.dt.print('objects')
!@ @edb.row.set_cur($s)
!@ @edb.col.set_cur('count')
!@ loop local i = 1 while i < 10 step i += 1:
!@ 	@edb.col.set_next(i * 10 + 1)
!@ end
!@ @edb.dt.print('objects')
!@ @edb.cell.add(34)
!@ @edb.col.set_cur('place')
!@ @edb.cell.add('34')
!@ @edb.dt.print('objects')
!@ @edb.row.exchange($d, $n)
!@ @edb.dt.print('objects')
!@ @edb.dt.find('Старый')
!@ @edb.row.extract('septem', $i)
!@ @edb.row.inject('septem', $n)
!@ @em.arr.print('$septem')
!@ @edb.row.clone($n)
!@ @edb.row.clone($n)
!@ @edb.row.clone($n)
!@ @edb.row.clone($n)
!@ @edb.dt.print('objects')
!@ @edb.print('[all arrays]')
!@ @edb.dt.print('objects', '[range:2-4]')
!@ @edb.dt.clone('new_obj', 'objects', '000002', 4)
!@ @edb.dt.print('new_obj')
--- edb.usercom.test ---------------------------------

