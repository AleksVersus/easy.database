# Псевдословари со сложным Хэшем

Псевдословарь с более сложной структурой, чем теперешний.
`[hash:[0:name|klo|put:0]:hash][name.0:[p1.0:[name.1:Aleks:name.1]:p1.0]:name.0]`

`name.p1.name` - доступ к словарю

Псевдословари — это строки, данные в которых отформатированы особым образом.

Они должны основываться на примитивнейшей структуре псевдословарей, требующей:
- уникальных ключей, для быстрого поиска информации в строке.
- простоты обращения к словарю для извлечения информации.

Словарь может хранить три типа данных:
- строка без вложенных квадратных скобок. В этом случае достаточно использовать одиночные теги типа `[tag_name:simple value]`
- строка с вложенными квадратными скобками. В этом случае необходимо использовать сдвоенные теги типа: `[tag_name:complex value includes [quadro] brackets:tag_name]`
- вложенные словари. Тогда используем сдвоенные теги верхнего типа.

За основу берём словарь, приведённый в соседнем разделе:

```qsp
[kind:деревянная_булава]
[name:Дубина|Дубины|Дубине|Дубину|Дубиной|Дубине:name]
[number]
[np:[оружие] [одноручное] [булава]:np]
[stoim:176]
[weight:50]
[color:663300]
[uron:[p1:дробящий:p1] [p2:стрелковый:p2] [u1:1000] [u2:125]:uron]
[helmet:[name:Сушённая голова:name] [power:200]:helmet]
```

В этом словаре повторяется тег name. Могут повторяться и другие теги, и как видно, эти теги друг от друга не изолированы. То есть они не уникальные.

Чтобы теги были уникальными, их необходимо сначала описать. И вот как я раньше до этого не додумался, но содержимое словаря — это только содержимое тегов, а то, как теги размещены — это не содержимое словаря, и оно может быть обработано совершенно независимо от всего остального. Т.е. Мы делим словарь на две части:
- описание
- содержимое
И в описании мы просто описываем теги и как их искать. А в содержимом мы описываем, что в этих тегах лежит.

```html
[kind:деревянная_булава:kind]
[uron.дробящий:1000:uron.дробящий]
[uron.стрелковый:125:uron.стрелковый]
```